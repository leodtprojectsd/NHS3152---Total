<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NHS31xx SW API: compress: compression / decompression module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nxp-logo_small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NHS31xx SW API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00467.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">compress: compression / decompression module<div class="ingroups"><a class="el" href="a00425.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This block of code allows an application to perform losless compression and uncompression on arbitrary chunks of data. <br />
It will:</p><ul>
<li>abstract away how the samples are compressed and uncompressed,</li>
<li>provide an easy interface via which data of any length compressed and uncompressed,</li>
</ul>
<p>The Compress module will use both EEPROM and FLASH to store bits of data. The newest samples are always stored in EEPROM; when the reserved space in EEPROM is full, all the data is moved to FLASH, and the EEPROM is reused. Writing samples always means appending them to the already written samples; it is not possible to edit the already written stream of bits. When reading back again, the user can control the starting read position using a sequence number. It is automatically deduced where the corresponding sample is written, whether it is compressed, and what needs to be done to be able to return the requested sample(s).</p>
<p>It is expected that each application that requires this module includes it and configures the diversity settings of the module according to its specific needs.</p>
<dl class="section user"><dt>Diversity</dt><dd>This module supports diversity: settings to tweak the effectiveness of the compression. Check <a class="el" href="a00468.html">Diversity Settings</a> for all diversity parameters.</dd></dl>
<dl class="section user"><dt>Memory Requirements</dt><dd>The memory requirements are defined by the diversity settings. Check <a class="el" href="a00468.html#ga78be3855a227b14d505c925fdc3f490b">COMPRESS_WINDOW_BITS</a> and <a class="el" href="a00468.html#ga57e420f8bb1c2d58419075b9a3da8df7">COMPRESS_USE_INDEX</a>.</dd></dl>
<dl class="section user"><dt>How to use the module</dt><dd><ol type="1">
<li>To compress, simply call Compress_Encode. No preparation or initialization is necessary.</li>
<li>To uncompress, call Compress_Decod. No preparation or initialization is necessary.</li>
<li>Compress_Decode o Compress_Encode is an identity function.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">    uint8_t data[1234];</div><div class="line">    <span class="comment">/* ... fill in 1234 bytes of data ... */</span></div><div class="line"></div><div class="line">    <span class="comment">/* Compression is a one function call: */</span></div><div class="line">    uint8_t compressed[1234];</div><div class="line">    <span class="keywordtype">int</span> compressedSize = <a class="code" href="a00467.html#gae50ed853feadeb8746ea8ebc22c90d4b">Compress_Encode</a>(data, 1234, compressed, 1234);</div><div class="line">    <span class="comment">/* compressedSize is now a number less than 1234.*/</span></div><div class="line"></div><div class="line">    <span class="comment">/* Retrieving the original data back is again a one function call: */</span></div><div class="line">    uint8_t uncompressed[1234];</div><div class="line">    <span class="keywordtype">int</span> uncompressedSize = <a class="code" href="a00467.html#ga75a3be10436a935a17ad05ebf8e8f231">Compress_Decode</a>(compressed, compressedSize, uncompressed, 1234);</div><div class="line">    <span class="comment">/* uncompressedSize is now equal to 1234.*/</span></div><div class="line">    <span class="comment">/* all bytes in uncompressed are now identical to the bytes in data.*/</span></div></div><!-- fragment --></dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a00468"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00468.html">Diversity Settings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae50ed853feadeb8746ea8ebc22c90d4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00467.html#gae50ed853feadeb8746ea8ebc22c90d4b">Compress_Encode</a> (const uint8_t *input, int inputLength, uint8_t *output, int outputLength)</td></tr>
<tr class="separator:gae50ed853feadeb8746ea8ebc22c90d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75a3be10436a935a17ad05ebf8e8f231"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00467.html#ga75a3be10436a935a17ad05ebf8e8f231">Compress_Decode</a> (const uint8_t *input, int inputLength, uint8_t *output, int outputLength)</td></tr>
<tr class="separator:ga75a3be10436a935a17ad05ebf8e8f231"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae50ed853feadeb8746ea8ebc22c90d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae50ed853feadeb8746ea8ebc22c90d4b">&#9670;&nbsp;</a></span>Compress_Encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Compress_Encode </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outputLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compresses a contiguous array of bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>pointer to the array where all bytes to encode can be found. No alignment is enforced. </td></tr>
    <tr><td class="paramname">inputLength</td><td>The number of bytes to encode, starting from <code>input</code>. </td></tr>
    <tr><td class="paramname">output</td><td>pointer to the array where the encoded end result will be written to. No alignment is enforced. </td></tr>
    <tr><td class="paramname">outputLength</td><td>Size in bytes of the available <code>output</code> array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes of the used <code>output</code> bytes. An output size of <code>0</code> indicates an error: the <code>output</code> buffer may or may not have been written to, but none of the bytes may be used for further processing. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The output, when a valid size has been returned, cannot be split up and decoded in chunks; decoding is only possible when providing the full array with all the now-encoded bytes. </dd></dl>

</div>
</div>
<a id="ga75a3be10436a935a17ad05ebf8e8f231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75a3be10436a935a17ad05ebf8e8f231">&#9670;&nbsp;</a></span>Compress_Decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Compress_Decode </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outputLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uncompresses a contiguous array of bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>pointer to the array where the encoded bytes to uncompress can be found. No alignment is enforced. </td></tr>
    <tr><td class="paramname">inputLength</td><td>The number of bytes to decode, starting from <code>input</code>. This value must be equal to the returnvalue of a previous call to <a class="el" href="a00467.html#gae50ed853feadeb8746ea8ebc22c90d4b">Compress_Encode</a>. </td></tr>
    <tr><td class="paramname">output</td><td>pointer to the array where the decoded bytes will be written to. No alignment is enforced. </td></tr>
    <tr><td class="paramname">outputLength</td><td>Size in bytes of the available <code>output</code> array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes of the used <code>output</code> bytes. An output size of <code>0</code> indicates an error: the <code>output</code> buffer may or may not have been written to, but none of the bytes may be used for further processing. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The output length, when a valid size has been returned, will be equal to the value of <code>inputLength</code> during a previous call to <a class="el" href="a00467.html#gae50ed853feadeb8746ea8ebc22c90d4b">Compress_Encode</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 20 2020 08:24:34 for NHS31xx SW API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
