<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NHS31xx SW API: Therapy Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nxp-logo_small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NHS31xx SW API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00409.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Therapy Component<div class="ingroups"><a class="el" href="a00424.html">Applications</a> &raquo; <a class="el" href="a00416.html">tadherence: Therapy Adherence Demo Application</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Therapy Adherence Therapy Component is responsible for managing the therapy adherence status. It makes use of:</p><ul>
<li>The <a class="el" href="a00405.html">Memory Manager</a> module to store its internal data into non-volatile memory.</li>
<li>The <a class="el" href="a00414.html">Sensing Component</a> module to sense the presence/removal of the pills.</li>
</ul>
<p>Via the Therapy Component, other components can:</p><ol type="1">
<li>Check the current state of the therapy.</li>
<li>Start a new therapy.</li>
<li>Stop an ongoing therapy.</li>
<li>Reset the status of the therapy to pristine state.</li>
<li>Force an update of the internal status.</li>
</ol>
<dl class="section user"><dt>Groups:</dt><dd>The available pills in the blister are divided into groups. Each group is defined by its drive pin (HW connection). Depending on the sensing principle, a group can have one ore more sensing pins. Depending on the sensing principle, a group can be capable of:<ul>
<li>Sensing a specific individual pill removal.</li>
<li>Sensing the number of removed pills, this means all pills in such a group are treated as equals.</li>
</ul>
</dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a00414"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00414.html">Sensing Component</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:a00518"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#a00518">THERAPY_PILLREMOVAL_INFO_T</a></td></tr>
<tr class="separator:a00518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab099d5c2f061a4be7153ef6e194c34ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#gab099d5c2f061a4be7153ef6e194c34ae">THERAPY_MAX_REMOVALS</a>&#160;&#160;&#160;36</td></tr>
<tr class="separator:gab099d5c2f061a4be7153ef6e194c34ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa43ca72075c47603d22e9ff37f86c634"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#gaa43ca72075c47603d22e9ff37f86c634">THERAPY_STATE_T</a> { <br />
&#160;&#160;<a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a> = 0x10, 
<br />
&#160;&#160;<a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634afce6674a2fce3933f17188972dd005bc">THERAPY_STATE_ID_ONGOING</a> = 0x11, 
<br />
&#160;&#160;<a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634ab2b0ef18f4cc66922905356e343f6b7a">THERAPY_STATE_ID_STOPPED</a> = 0x12
<br />
 }</td></tr>
<tr class="separator:gaa43ca72075c47603d22e9ff37f86c634"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6eaa9bfd18377813411bfa8b1f9c6666"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga6eaa9bfd18377813411bfa8b1f9c6666">Therapy_Init</a> (void)</td></tr>
<tr class="separator:ga6eaa9bfd18377813411bfa8b1f9c6666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44442227c027447d43a6235b073dab96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga44442227c027447d43a6235b073dab96">Therapy_DeInit</a> (void)</td></tr>
<tr class="separator:ga44442227c027447d43a6235b073dab96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4eb54cde3d14710c3b83817ee1cc937f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00409.html#gaa43ca72075c47603d22e9ff37f86c634">THERAPY_STATE_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga4eb54cde3d14710c3b83817ee1cc937f">Therapy_GetState</a> (void)</td></tr>
<tr class="separator:ga4eb54cde3d14710c3b83817ee1cc937f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae65fda3074fca36abfe887b7325f45ca"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#gae65fda3074fca36abfe887b7325f45ca">Therapy_GetStartTime</a> (void)</td></tr>
<tr class="separator:gae65fda3074fca36abfe887b7325f45ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f41a0373b4012d6c400e63bf684dfe4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga4f41a0373b4012d6c400e63bf684dfe4">Therapy_GetCheckPeriod</a> (void)</td></tr>
<tr class="separator:ga4f41a0373b4012d6c400e63bf684dfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a27d87d4abe0e01f5d2581325df0fb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga3a27d87d4abe0e01f5d2581325df0fb2">Therapy_GetInitialPillCount</a> (void)</td></tr>
<tr class="separator:ga3a27d87d4abe0e01f5d2581325df0fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a93e59603c5bebebbd63d6b61f98857"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga8a93e59603c5bebebbd63d6b61f98857">Therapy_GetIntakeCount</a> (void)</td></tr>
<tr class="separator:ga8a93e59603c5bebebbd63d6b61f98857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9857d0abefbcc493bf81f27815d64b95"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga9857d0abefbcc493bf81f27815d64b95">Therapy_GetLastIntakeTime</a> (void)</td></tr>
<tr class="separator:ga9857d0abefbcc493bf81f27815d64b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fdad023e50187684f2c54cdf47074c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga6fdad023e50187684f2c54cdf47074c9">Therapy_Start</a> (uint32_t start, uint32_t interval)</td></tr>
<tr class="separator:ga6fdad023e50187684f2c54cdf47074c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b2a5e1f747c6c935e1d2b3709f508a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga0b2a5e1f747c6c935e1d2b3709f508a4">Therapy_Reset</a> (void)</td></tr>
<tr class="separator:ga0b2a5e1f747c6c935e1d2b3709f508a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga969831219bfbab7797100f939891b44e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#ga969831219bfbab7797100f939891b44e">Therapy_Stop</a> (void)</td></tr>
<tr class="separator:ga969831219bfbab7797100f939891b44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabea91d6a88bb1ee5b4b43bd0d883f122"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00409.html#gabea91d6a88bb1ee5b4b43bd0d883f122">Therapy_Update</a> (void)</td></tr>
<tr class="separator:gabea91d6a88bb1ee5b4b43bd0d883f122"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="a00518" id="a00518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00518">&#9670;&nbsp;</a></span>THERAPY_PILLREMOVAL_INFO_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct THERAPY_PILLREMOVAL_INFO_T</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>All information required to be recorded when a pill removal occurs:, i.e. when a pill removal has been detected. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae73654f333e4363463ad8c594eca1905"></a>uint32_t</td>
<td class="fieldname">
time</td>
<td class="fielddoc">
<p>The time in epoch seconds when the removal occurred. A value of <code>0</code> indicates no event is recorded in this slot. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ad4291fcb880eb5ecb178b53e32f55741"></a>uint8_t</td>
<td class="fieldname">
group</td>
<td class="fielddoc">
<p>The number of the group where the event occurred. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ac66edcab862b65e1d49ce97f9c74690c"></a>uint32_t</td>
<td class="fieldname">
position</td>
<td class="fielddoc">
<ul>
<li>When in the group specific pills are to be tracked, this value indicates which pill was taken:<ul>
<li>a value of <code>0</code> for the first pill</li>
<li>a value of <code>n</code> for the n-th pill</li>
</ul>
</li>
<li>When in the group only the amount of pills taken can be tracked reporting is starting with the highest pill number.</li>
</ul>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab099d5c2f061a4be7153ef6e194c34ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab099d5c2f061a4be7153ef6e194c34ae">&#9670;&nbsp;</a></span>THERAPY_MAX_REMOVALS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERAPY_MAX_REMOVALS&#160;&#160;&#160;36</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum pill removals to be tracked. This number is defined by HW. The maximum capacity is obtained by a 6x6 matrix. (GPIO) </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa43ca72075c47603d22e9ff37f86c634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa43ca72075c47603d22e9ff37f86c634">&#9670;&nbsp;</a></span>THERAPY_STATE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00409.html#gaa43ca72075c47603d22e9ff37f86c634">THERAPY_STATE_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A list of all possible states a therapy can be in. As state data will be stored in EEPROM, make sure the reset value (0x00) is not a valid state id. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57"></a>THERAPY_STATE_ID_NOTSTARTED&#160;</td><td class="fielddoc"><p>State indicating a therapy is not yet started. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa43ca72075c47603d22e9ff37f86c634afce6674a2fce3933f17188972dd005bc"></a>THERAPY_STATE_ID_ONGOING&#160;</td><td class="fielddoc"><p>State indicating a therapy is ongoing. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa43ca72075c47603d22e9ff37f86c634ab2b0ef18f4cc66922905356e343f6b7a"></a>THERAPY_STATE_ID_STOPPED&#160;</td><td class="fielddoc"><p>State indicating a therapy is stopped (all pills taken). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6eaa9bfd18377813411bfa8b1f9c6666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6eaa9bfd18377813411bfa8b1f9c6666">&#9670;&nbsp;</a></span>Therapy_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Init function for the therapy module. It makes sure that internal status info is retrieved from memory. </p>

</div>
</div>
<a id="ga44442227c027447d43a6235b073dab96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44442227c027447d43a6235b073dab96">&#9670;&nbsp;</a></span>Therapy_DeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_DeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-Init function for the therapy module. It makes sure that internal status info is stored in memory. </p>

</div>
</div>
<a id="ga4eb54cde3d14710c3b83817ee1cc937f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4eb54cde3d14710c3b83817ee1cc937f">&#9670;&nbsp;</a></span>Therapy_GetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00409.html#gaa43ca72075c47603d22e9ff37f86c634">THERAPY_STATE_T</a> Therapy_GetState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the current state of the therapy. </p><dl class="section return"><dt>Returns</dt><dd>The current status of the therapy. </dd></dl>

</div>
</div>
<a id="gae65fda3074fca36abfe887b7325f45ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae65fda3074fca36abfe887b7325f45ca">&#9670;&nbsp;</a></span>Therapy_GetStartTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Therapy_GetStartTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the start time of the therapy (expressed in epoch seconds). . </p><dl class="section return"><dt>Returns</dt><dd>The therapy start time (not valid if the status is <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>). </dd></dl>

</div>
</div>
<a id="ga4f41a0373b4012d6c400e63bf684dfe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f41a0373b4012d6c400e63bf684dfe4">&#9670;&nbsp;</a></span>Therapy_GetCheckPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Therapy_GetCheckPeriod </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the period on which the therapy needs to be updated (pill removal check). </p><dl class="section return"><dt>Returns</dt><dd>The therapy's check period (not valid if the status is <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>). </dd></dl>

</div>
</div>
<a id="ga3a27d87d4abe0e01f5d2581325df0fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a27d87d4abe0e01f5d2581325df0fb2">&#9670;&nbsp;</a></span>Therapy_GetInitialPillCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Therapy_GetInitialPillCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the amount of pills present at start of therapy. </p><dl class="section return"><dt>Returns</dt><dd>The therapy's initial pill count (not valid if the status is <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>). </dd></dl>

</div>
</div>
<a id="ga8a93e59603c5bebebbd63d6b61f98857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a93e59603c5bebebbd63d6b61f98857">&#9670;&nbsp;</a></span>Therapy_GetIntakeCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Therapy_GetIntakeCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the amount of pill intakes currently recorded. </p><dl class="section return"><dt>Returns</dt><dd>The amount of sensed pill removals (not valid if the status is <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>). </dd></dl>

</div>
</div>
<a id="ga9857d0abefbcc493bf81f27815d64b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9857d0abefbcc493bf81f27815d64b95">&#9670;&nbsp;</a></span>Therapy_GetLastIntakeTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Therapy_GetLastIntakeTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get the last experienced pill removal time (expressed in epoch seconds). </p><dl class="section return"><dt>Returns</dt><dd>The time (expressed in epoch seconds) at which the last pill removal was sensed (not valid if the status is <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>). </dd></dl>

</div>
</div>
<a id="ga6fdad023e50187684f2c54cdf47074c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fdad023e50187684f2c54cdf47074c9">&#9670;&nbsp;</a></span>Therapy_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_Start </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts a new therapy </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>: The time (expressed in epoch seconds) at which the therapy is started </td></tr>
    <tr><td class="paramname">interval</td><td>: The interval at which an update of the therapy status is needed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0b2a5e1f747c6c935e1d2b3709f508a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b2a5e1f747c6c935e1d2b3709f508a4">&#9670;&nbsp;</a></span>Therapy_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_Reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the therapy (Pristine state) All Status data is reseted, Therapy state is set to <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634a1e4e06895a29894327ca4bfcf8289d57">THERAPY_STATE_ID_NOTSTARTED</a>. </p>

</div>
</div>
<a id="ga969831219bfbab7797100f939891b44e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga969831219bfbab7797100f939891b44e">&#9670;&nbsp;</a></span>Therapy_Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_Stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the therapy (All pills removed) Therapy state is set to <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634ab2b0ef18f4cc66922905356e343f6b7a">THERAPY_STATE_ID_STOPPED</a>, restarting the Therapy is not possible, this is since from the moment the Therapy is stopped knowledge of current time is lost. </p>

</div>
</div>
<a id="gabea91d6a88bb1ee5b4b43bd0d883f122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabea91d6a88bb1ee5b4b43bd0d883f122">&#9670;&nbsp;</a></span>Therapy_Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Therapy_Update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the therapy's status, it will check (via the sense module) if since the last call, extra pills where removed and will update its status accordingly. If all pills are taken, Therapy will be stopped <a class="el" href="a00409.html#ggaa43ca72075c47603d22e9ff37f86c634ab2b0ef18f4cc66922905356e343f6b7a">THERAPY_STATE_ID_STOPPED</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 20 2020 08:24:34 for NHS31xx SW API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
